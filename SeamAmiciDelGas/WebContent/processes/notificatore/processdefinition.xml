<?xml version="1.0" encoding="UTF-8"?>

<process-definition  xmlns=""  name="notificatore">


	<start-state name="notifyMessage">
		<transition to="route"></transition>
	</start-state>


	<task-node name="NotificheSingole" create-tasks="false">
		<event type="node-enter">
			<action name="CreateNotifyTasks" expression="#{multipleNotifyActionHandler.execute()}"></action>
		</event>
		<task name="ReceiveMessage">
		</task>
		<transition to="end-state1" name="ack"></transition>
	</task-node>

	<task-node name="NotificheDiGruppo">
		<task name="ReceiveGroupMessage">
			<assignment expression="zlatan;jose"></assignment>
		</task>
		<transition to="end-state1" name="ack"></transition>
	</task-node>

	<decision name="route">
		<transition to="NotificheSingole" name="notifySingleMessage">
			<condition>#{!notifyMessage.broadcast}</condition>
		</transition>
		<transition to="NotificheDiGruppo" name="notifyGroupMessage">
			<condition>#{notifyMessage.broadcast}</condition>
		</transition>
	</decision>


	<end-state name="end-state1"></end-state>


</process-definition>