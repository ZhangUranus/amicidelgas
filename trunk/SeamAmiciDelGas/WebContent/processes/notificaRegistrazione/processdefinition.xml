<?xml version="1.0" encoding="UTF-8"?>

<process-definition  xmlns=""  name="notificaRegistrazione">


	<start-state name="Richiesta registrazione">
		<transition to="Crea Evento Azienda da visitare" name="inviaRegistrazione"></transition>
	</start-state>


	<task-node name="Crea Evento Azienda da visitare">
		<task name="crea_visita"></task>
		<transition to="fork1"></transition>
	</task-node>

	<task-node name="partecipa al gruppo">
		<transition to="Seleziona Inviati" name="notificaMediatore"></transition>
	</task-node>

	<task-node name="Seleziona Inviati">
		<transition to="join1" name="notifica_info"></transition>
	</task-node>

	<task-node name="Conferma">
		<transition to="Aspetta Timer per compilare questionario"></transition>
	</task-node>

	<mail-node name="EmailAppuntamentoAzienda">
		<transition to="join1"></transition>
	</mail-node>

	<state name="Aspetta Timer per compilare questionario">
		<transition to="Riempire questionario" name="notificaUtenti"></transition>
	</state>

	<task-node name="Riempire questionario">
		<transition to="Aspetta che tutti i questionari siano compilati"></transition>
	</task-node>

	<state name="Aspetta che tutti i questionari siano compilati">
		<transition to="Controlla Registrazione Contadino" name="notificaAdmin"></transition>
	</state>

	<task-node name="Controlla Registrazione Contadino">
		<transition to="AccettaRifiuta"></transition>
	</task-node>

	<decision name="AccettaRifiuta">
		<transition to="Contadino Rifiutato" name="Rifiuta"></transition>
		<transition to="EmailRegistrazione" name="accetta"></transition>
	</decision>

	<mail-node name="EmailRegistrazione">
		<transition to="Contadino Accettato" name="ok"></transition>
	</mail-node>

	<fork name="fork1">
		<transition to="partecipa al gruppo" name="notifica_inviati"></transition>
		<transition to="EmailAppuntamentoAzienda" name="to EmailAppuntamentoAzienda"></transition>
	</fork>

	<join name="join1">
		<transition to="Conferma"></transition>
	</join>


	<end-state name="Contadino Rifiutato"></end-state>

	<end-state name="Contadino Accettato"></end-state>


</process-definition>