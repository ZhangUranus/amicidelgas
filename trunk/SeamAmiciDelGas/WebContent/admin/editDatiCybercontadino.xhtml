<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a="http://richfaces.org/a4j"
    template="/layout/template.xhtml">

<ui:define name="body">

    <h:form id="cybercontadinoSearch" styleClass="edit">
        <rich:simpleTogglePanel label="Cybercontadino Search Filter" switchType="ajax">
		 <table>
		  <tr>
		  		<td width="25%">
	            <s:decorate template="/layout/display.xhtml">
	                <ui:define name="label">Cognome presidente</ui:define>
	                <h:inputText id="cognomePresidente" value="#{cybercontadinoListExtended.cybercontadino.cognomePresidente}"/>
	            </s:decorate>
				</td>
			   <td width="25%">
	            <s:decorate template="/layout/display.xhtml">
	                <ui:define name="label">Nome presidente</ui:define>
	                <h:inputText id="nomePresidente" value="#{cybercontadinoListExtended.cybercontadino.nomePresidente}"/>
	            </s:decorate>
	           </td>
				
				<td width="25%">
	            <s:decorate template="/layout/display.xhtml">
	                <ui:define name="label">Indirizzo</ui:define>
	                <h:inputText id="indirizzo" value="#{cybercontadinoListExtended.cybercontadino.indirizzo}"/>
	            </s:decorate>
				</td>
				
				
				
				<td width="25%">
	            <s:decorate template="/layout/display.xhtml">
	                <ui:define name="label">Nome azienda</ui:define>
	                <h:inputText id="nomeAzienda" value="#{cybercontadinoListExtended.cybercontadino.nomeAzienda}"/>
	            </s:decorate>
				</td>
			</tr>
			<tr>
				<td width="25%">
	            <s:decorate template="/layout/display.xhtml">
	                <ui:define name="label">Username</ui:define>
	                <h:inputText id="username" value="#{accountList.account.username}"/>
	            </s:decorate>
	            </td>
			
				<td width="25%">
	            <s:decorate template="/layout/display.xhtml">
	                <ui:define name="label">Path asl</ui:define>
	                <h:inputText id="pathAsl" value="#{cybercontadinoListExtended.cybercontadino.pathAsl}"/>
	            </s:decorate>
				</td>
				
				<td width="25%">
	            <s:decorate template="/layout/display.xhtml">
	                <ui:define name="label">Url wsdl</ui:define>
	                <h:inputText id="urlWsdl" value="#{cybercontadinoListExtended.cybercontadino.urlWsdl}"/>
	            </s:decorate>
				</td>
				
				<td width="25%">
	            <s:decorate template="/layout/display.xhtml">
	                <ui:define name="label">Email</ui:define>
	                <h:inputText id="email" value="#{cybercontadinoListExtended.cybercontadino.email}"/>
	            </s:decorate>
	            </td>
            </tr>
          </table>

        </rich:simpleTogglePanel>

        <div class="actionButtons">
            <h:commandButton id="search" value="Search" action="admin/editDatiCybercontadino.xhtml"/>
            <s:button id="reset" value="Reset" includePageParams="false"/>
        </div>

    </h:form>


        <f:facet name="header">Cybercontadino Search Results</f:facet>
    <div class="results" id="cybercontadinoListExtended">

    <h:outputText value="The cybercontadino search returned no results."
               rendered="#{empty cybercontadinoListExtended.resultList}"/>
	<h:form>
		<a:region>
		    <rich:dataTable id="cybercontadinoListExtended"
		                var="_cybercontadino"
		              value="#{cybercontadinoListExtended.resultList}"
		           rendered="#{not empty cybercontadinoListExtended.resultList}">
		        <rich:column>
		            <f:facet name="header">
		                <ui:include src="/layout/sort.xhtml">
		                    <ui:param name="entityList" value="#{cybercontadinoListExtended}"/>
		                    <ui:param name="propertyLabel" value="Partita iva"/>
		                    <ui:param name="propertyPath" value="cybercontadino.partitaIva"/>
		                </ui:include>
		            </f:facet>
		            <h:outputText value="#{_cybercontadino.partitaIva}"/>
		        </rich:column>
		        <rich:column>
		            <f:facet name="header">
		                <ui:include src="/layout/sort.xhtml">
		                    <ui:param name="entityList" value="#{cybercontadinoListExtended}"/>
		                    <ui:param name="propertyLabel" value="Cognome presidente"/>
		                    <ui:param name="propertyPath" value="cybercontadino.cognomePresidente"/>
		                </ui:include>
		            </f:facet>
		            <h:outputText value="#{_cybercontadino.cognomePresidente}"/>
		        </rich:column>
		        <rich:column>
		            <f:facet name="header">
		                <ui:include src="/layout/sort.xhtml">
		                    <ui:param name="entityList" value="#{cybercontadinoListExtended}"/>
		                    <ui:param name="propertyLabel" value="Nome presidente"/>
		                    <ui:param name="propertyPath" value="cybercontadino.nomePresidente"/>
		                </ui:include>
		            </f:facet>
		            <h:outputText value="#{_cybercontadino.nomePresidente}"/>
		        </rich:column>
		        
		        <rich:column>
		            <f:facet name="header">
		                <ui:include src="/layout/sort.xhtml">
		                    <ui:param name="entityList" value="#{cybercontadinoListExtended}"/>
		                    <ui:param name="propertyLabel" value="Username"/>
		                    <ui:param name="propertyPath" value="cybercontadino.account.username"/>
		                </ui:include>
		            </f:facet>
		            <h:outputText value="#{_cybercontadino.account.username}"/>
		        </rich:column>
		        <rich:column>
		            <f:facet name="header">
		                <ui:include src="/layout/sort.xhtml">
		                    <ui:param name="entityList" value="#{cybercontadinoListExtended}"/>
		                    <ui:param name="propertyLabel" value="Nome azienda"/>
		                    <ui:param name="propertyPath" value="cybercontadino.nomeAzienda"/>
		                </ui:include>
		            </f:facet>
		            <h:outputText value="#{_cybercontadino.nomeAzienda}"/>
		        </rich:column>
		        <rich:column>
		            <f:facet name="header">
		                <ui:include src="/layout/sort.xhtml">
		                    <ui:param name="entityList" value="#{cybercontadinoListExtended}"/>
		                    <ui:param name="propertyLabel" value="Indirizzo"/>
		                    <ui:param name="propertyPath" value="cybercontadino.indirizzo"/>
		                </ui:include>
		            </f:facet>
		            <h:outputText value="#{_cybercontadino.indirizzo}"/>
		        </rich:column>
		        <rich:column>
		            <f:facet name="header">
		                <ui:include src="/layout/sort.xhtml">
		                    <ui:param name="entityList" value="#{cybercontadinoListExtended}"/>
		                    <ui:param name="propertyLabel" value="Comune"/>
		                    <ui:param name="propertyPath" value="cybercontadino.comune.nome"/>
		                </ui:include>
		            </f:facet>
		            <h:outputText value="#{_cybercontadino.comune.nome}"/>
		        </rich:column>
		        <rich:column>
		            <f:facet name="header">
		                <ui:include src="/layout/sort.xhtml">
		                    <ui:param name="entityList" value="#{cybercontadinoListExtended}"/>
		                    <ui:param name="propertyLabel" value="Descrizione azienda"/>
		                    <ui:param name="propertyPath" value="cybercontadino.descrizioneAzienda"/>
		                </ui:include>
		            </f:facet>
		            <h:outputText value="#{_cybercontadino.descrizioneAzienda}"/>
		        </rich:column>
		        <rich:column>
		            <f:facet name="header">
		                <ui:include src="/layout/sort.xhtml">
		                    <ui:param name="entityList" value="#{cybercontadinoListExtended}"/>
		                    <ui:param name="propertyLabel" value="Recapito telefonico"/>
		                    <ui:param name="propertyPath" value="cybercontadino.recapitoTelefonico"/>
		                </ui:include>
		            </f:facet>
		            <h:outputText value="#{_cybercontadino.recapitoTelefonico}"/>
		        </rich:column>
		        <rich:column>
		            <f:facet name="header">
		                <ui:include src="/layout/sort.xhtml">
		                    <ui:param name="entityList" value="#{cybercontadinoListExtended}"/>
		                    <ui:param name="propertyLabel" value="Email"/>
		                    <ui:param name="propertyPath" value="cybercontadino.email"/>
		                </ui:include>
		            </f:facet>
		            <h:outputText value="#{_cybercontadino.email}"/>
		        </rich:column>
		        
		        <rich:column>
			            <f:facet name="header">Stato</f:facet>
			               <div align="center">
								<h:graphicImage id="nonCancellato" value="/img/contadino50x36.gif" 
										rendered="#{!_cybercontadino.account.elimato}"/>
								<rich:toolTip for="nonCancellato" value="Non cancellato"/>
								<h:graphicImage id="cancellato" value="/img/contadino50x36eliminato.gif" 
										rendered="#{_cybercontadino.account.elimato}"/>
								<rich:toolTip for="cancellato" value="Cancellato"/>
						   </div>
			        </rich:column>
		
		        <rich:column align="center">
			            <f:facet name="header">Action</f:facet>
			                <a:commandLink ajaxSingle="true" id="confermaCancellaContadinoLink" disabled="#{_cybercontadino.account.elimato}"
			                    oncomplete="#{rich:component('confermaCancellaContadino')}.show()">
				                <h:graphicImage value="/img/cancel.png" style="border:0"/>
				            	<f:setPropertyActionListener value="#{_cybercontadino.partitaIva}" 
				            							target="#{cybercontadinoHome.id}" />
				            </a:commandLink>
				            <rich:toolTip for="confermaCancellaContadinoLink" value="Cancella il cybercontadino selezionato" rendered="#{!_cybercontadino.account.elimato}"/>
			        </rich:column>
		    </rich:dataTable>
		    <rich:datascroller align="center" for="cybercontadinoListExtended" id="sc1" rendered="true"/>
		 </a:region>
	</h:form>

    </div>

    <div class="tableControl">

        <s:link view="/admin/editDatiCybercontadino.xhtml"
            rendered="#{cybercontadinoListExtended.previousExists}"
               value="#{messages.left}#{messages.left} First Page"
                  id="firstPage">
          <f:param name="firstResult" value="0"/>
        </s:link>

        <s:link view="/admin/editDatiCybercontadino.xhtml"
            rendered="#{cybercontadinoListExtended.previousExists}"
               value="#{messages.left} Previous Page"
                  id="previousPage">
            <f:param name="firstResult"
                    value="#{cybercontadinoListExtended.previousFirstResult}"/>
        </s:link>

        <s:link view="/admin/editDatiCybercontadino.xhtml"
            rendered="#{cybercontadinoListExtended.nextExists}"
               value="Next Page #{messages.right}"
                  id="nextPage">
            <f:param name="firstResult"
                    value="#{cybercontadinoListExtended.nextFirstResult}"/>
        </s:link>

        <s:link view="/admin/editDatiCybercontadino.xhtml"
            rendered="#{cybercontadinoListExtended.nextExists}"
               value="Last Page #{messages.right}#{messages.right}"
                  id="lastPage">
            <f:param name="firstResult"
                    value="#{cybercontadinoListExtended.lastFirstResult}"/>
        </s:link>

    </div>
		
		<s:link view="/admin/editDatiUtenti.xhtml">Pagina Utenti</s:link>
		<img alt="statistiche" border="0" src="/SeamAmiciDelGas/img/customer.jpg" width="5%"/>
		
		<rich:modalPanel id="confermaCancellaContadino" autosized="true" width="200">
	        <f:facet name="header">
	            <h:outputText value="Sei sicuro di voler eliminare questo contadino?"
	                style="padding-right:15px;" />
	        </f:facet>
	        <h:panelGrid columns="1">
	          <a:outputPanel ajaxRendered="true">
	            <h:panelGrid columns="2">
	            	<h:outputText value="PartitaIva: " />
	            	<h:outputText value="#{cybercontadinoHome.instance.partitaIva}"/>
	            	<h:outputText value="Cognome presidente: "/>
	            	<h:outputText value="#{cybercontadinoHome.instance.cognomePresidente}"/>
	        	</h:panelGrid>
	          </a:outputPanel>
	        </h:panelGrid>		
	        <f:facet name="controls">
	            <h:panelGroup>
	                <h:graphicImage value="/img/close.png"
	                    styleClass="hidelink" id="hidelink2" />
	                <rich:componentControl for="confermaCancellaContadino" attachTo="hidelink2"
	                    operation="hide" event="onclick" />
	            </h:panelGroup>
	        </f:facet>
	        <h:form>
	            <table width="100%">
	                <tbody>
	                    <tr>
                        <td align="center" width="50%">
			                <a:commandButton value="Si" ajaxSingle="true"
			                    action="#{cybercontadinoHome.remove()}"
			                    oncomplete="#{rich:component('confermaCancellaContadino')}.hide();"
			                    reRender="cybercontadinoListExtended"/>
                        </td>
                        <td align="center" width="50%">
			                <a:commandButton value="Annulla"
			                    onclick="#{rich:component('confermaCancellaContadino')}.hide();return false;" />
                        </td>
	                    </tr>
	                </tbody>
	            </table>
	        </h:form>
		</rich:modalPanel>
		
</ui:define>

</ui:composition>
