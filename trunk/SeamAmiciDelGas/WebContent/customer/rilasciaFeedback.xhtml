<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j" template="/layout/template.xhtml">



	<ui:define id="defineUI" name="body">
		<rich:simpleTogglePanel id="simpleTogglePanelContadini" label="Rilascia feedback ai contadini">
			<h:form id="browseContadiniForm">

			<h:dataTable value="#{filtraNotifica.getAllSingleTaskInstanceList('fbCustomerToContadino')}" var="_task">
				<rich:column>
					<f:facet name="header">
						<h:outputText value="task name" />
					</f:facet>
				<a:outputPanel ajaxRendered="true">
					<s:decorate id="riasciaFeedbackField">
						<h:dataTable value="#{takeInHandContadino.listCybercontadiniEffettivi(_task)}" var="_contadino">
							<rich:column>
									<f:facet name="header">
										<h:outputText value="Username contadino" />
									</f:facet>
									<h:outputText value="#{_contadino.account.username}"></h:outputText>
			        		</rich:column>
			        		<rich:column>
			        			<s:decorate template="/layout/edit.xhtml">
	                				<f:facet name="header">
										<h:outputText value="Voto feedback" />
									</f:facet>
	                				<h:selectOneRadio value="#{takeInHandContadino.getInfoFeedback(_contadino.account.username).feedback}" required="true" 
	                					requiredMessage="inserire una valutazione">
					  					<f:selectItem itemLabel="Basso" itemValue="1" ></f:selectItem>
					  					<f:selectItem itemLabel="Normale" itemValue="2" ></f:selectItem>
					  					<f:selectItem itemLabel="Alto" itemValue="3"></f:selectItem>
					  					<f:selectItem itemLabel="Utopico" itemValue="4"></f:selectItem>
					  					<f:selectItem itemLabel="Divino" itemValue="5"></f:selectItem>
					  					<a:support	event="onclick" ajaxSingle="true"/>
					  				</h:selectOneRadio>
	            				</s:decorate>
			        		</rich:column>
			        		<rich:column>
			        			<s:decorate template="/layout/edit.xhtml">
	                				<f:facet name="header">
										<h:outputText value="Commento" />
									</f:facet>
			        				<h:inputTextarea value="#{takeInHandContadino.getInfoFeedback(_contadino.account.username).comment}">
			        					<a:support	event="onkeyup" ajaxSingle="true" requestDelay="100"/>
					  				</h:inputTextarea>
			        			</s:decorate>
			        		</rich:column>
			        		<rich:column>
			        		<s:decorate template="/layout/edit.xhtml">
			        			<s:button taskInstance="#{_task}" value="oook"
			        					  action="#{orderProcessing.fb_customer_to_contadino(takeInHandContadino)}">
			        			
			        			</s:button>
			        		</s:decorate>
			        		</rich:column>
						</h:dataTable>
					</s:decorate>
				</a:outputPanel>
				</rich:column>
			</h:dataTable>
			</h:form>
			

		</rich:simpleTogglePanel>
		
	 	<br/>
	 	<br/>
	 	<br/>
		
		<rich:simpleTogglePanel label="Categorie e prodotti">
			
		</rich:simpleTogglePanel>
	
	</ui:define>

</ui:composition>

