<?xml version="1.0" encoding="UTF-8"?>
<!-- this file tells OFBiz what to do with various requests from visitors: what actions to take and what pages to render. -->
<!--
The OFBiz controller allows you to specify:

    * handlers, which are Java classes that handle either requests or produce views in various formats. For example, the handler for "java" 
    events routes requests to a Java servlet, while the "service" handler routes requests to the service engine, automatically parsing visitor
     input into service input parameters. The various view requests produce output to the browser based on Freemarker templates, velocity, JSP,
      or the OFBiz screen widget.
    * pre- and post-processors, which are servlets that are run before and after every web request.
    * request mappings, which map URI requests to either request or view handlers. Request mappings can also re-direct to other request mappings,
     allowing requests to be chained together.
    * view mappings, which generate output to the visitor by specifying where the page is located. By default, view mappings reference files 
    starting from the current web application's directory, in this case, webapp/hello1/. 
 -->
<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
        xsi:noNamespaceSchemaLocation="http://www.ofbiz.org/dtds/site-conf.xsd">
    <description>First Hello World Site Configuration File</description>
    <owner>Open For Business Project (c) 2005 </owner>
    <errorpage>/error/error.jsp</errorpage>

    <handler name="java" type="request" class="org.ofbiz.webapp.event.JavaEventHandler"/>
    <handler name="soap" type="request" class="org.ofbiz.webapp.event.SOAPEventHandler"/>
    <handler name="service" type="request" class="org.ofbiz.webapp.event.ServiceEventHandler"/>
    <handler name="service-multi" type="request" class="org.ofbiz.webapp.event.ServiceMultiEventHandler"/>
    <handler name="simple" type="request" class="org.ofbiz.webapp.event.SimpleEventHandler"/>

    <handler name="ftl" type="view" class="org.ofbiz.webapp.ftl.FreeMarkerViewHandler"/>
    <handler name="jsp" type="view" class="org.ofbiz.webapp.view.JspViewHandler"/>
    <handler name="screen" type="view" class="org.ofbiz.widget.screen.ScreenWidgetViewHandler"/>

    <handler name="http" type="view" class="org.ofbiz.webapp.view.HttpViewHandler"/>

    <preprocessor>
        <!-- Events to run on every request before security (chains exempt) -->
        <!-- <event type="java" path="org.ofbiz.webapp.event.TestEvent" invoke="test"/> -->
        <event type="java" path="org.ofbiz.securityext.login.LoginEvents" invoke="checkExternalLoginKey"/>
    </preprocessor>
    <postprocessor>
        <!-- Events to run on every request after all other processing (chains exempt) -->
        <!-- <event type="java" path="org.ofbiz.webapp.event.TestEvent" invoke="test"/> -->
    </postprocessor>

    <!-- Request Mappings -->
    <request-map uri="main">
    <!--  Aggiunta da me: <security https="false" auth="false"/> -->
    	<security https="false" auth="false"/>
        <response name="success" type="view" value="main"/>
    </request-map>

    <!-- end of request mappings -->

    <!-- View Mappings -->
    <view-map name="error" page="/error/error.jsp"/>
    <view-map name="main" type="ftl" page="main.ftl"/>
    <!-- end of view mappings -->
</site-conf>
